(function(global){"use strict";if(!global.console){global.console={}}var con=global.console;var prop,method;var dummy=function(){};var properties=["memory"];var methods=("assert,clear,count,debug,dir,dirxml,error,exception,group,"+"groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,"+"show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn").split(",");while(prop=properties.pop())if(!con[prop])con[prop]={};while(method=methods.pop())if(!con[method])con[method]=dummy})(typeof window==="undefined"?this:window);if(!Object.getPrototypeOf){Object.getPrototypeOf=function(o){if(o!==Object(o)){throw TypeError("Object.getPrototypeOf called on non-object")}return o.__proto__||o.constructor.prototype||Object.prototype}}if(!("remove"in Element.prototype)){Element.prototype.remove=function(){if(this.parentNode){this.parentNode.removeChild(this)}}}if(typeof Object.getOwnPropertyNames!=="function"){Object.getOwnPropertyNames=function(o){if(o!==Object(o)){throw TypeError("Object.getOwnPropertyNames called on non-object")}var props=[],p;for(p in o){if(Object.prototype.hasOwnProperty.call(o,p)){props.push(p)}}return props}}if(typeof Object.create!=="function"){Object.create=function(prototype,properties){if(typeof prototype!=="object"){throw TypeError()}function Ctor(){}Ctor.prototype=prototype;var o=new Ctor;if(prototype){o.constructor=Ctor}if(properties!==undefined){if(properties!==Object(properties)){throw TypeError()}Object.defineProperties(o,properties)}return o}}(function(){if(!Object.defineProperty||!function(){try{Object.defineProperty({},"x",{});return true}catch(e){return false}}()){var orig=Object.defineProperty;Object.defineProperty=function(o,prop,desc){if(orig){try{return orig(o,prop,desc)}catch(e){}}if(o!==Object(o)){throw TypeError("Object.defineProperty called on non-object")}if(Object.prototype.__defineGetter__&&"get"in desc){Object.prototype.__defineGetter__.call(o,prop,desc.get)}if(Object.prototype.__defineSetter__&&"set"in desc){Object.prototype.__defineSetter__.call(o,prop,desc.set)}if("value"in desc){o[prop]=desc.value}return o}}})();if(typeof Object.defineProperties!=="function"){Object.defineProperties=function(o,properties){if(o!==Object(o)){throw TypeError("Object.defineProperties called on non-object")}var name;for(name in properties){if(Object.prototype.hasOwnProperty.call(properties,name)){Object.defineProperty(o,name,properties[name])}}return o}}if(!Object.keys){Object.keys=function(o){if(o!==Object(o)){throw TypeError("Object.keys called on non-object")}var ret=[],p;for(p in o){if(Object.prototype.hasOwnProperty.call(o,p)){ret.push(p)}}return ret}}if(!Function.prototype.bind){Function.prototype.bind=function(o){if(typeof this!=="function"){throw TypeError("Bind must be called on a function")}var args=Array.prototype.slice.call(arguments,1),self=this,nop=function(){},bound=function(){return self.apply(this instanceof nop?this:o,args.concat(Array.prototype.slice.call(arguments)))};if(this.prototype)nop.prototype=this.prototype;bound.prototype=new nop;return bound}}Array.isArray=Array.isArray||function(o){return Boolean(o&&Object.prototype.toString.call(Object(o))==="[object Array]")};if(!Array.prototype.indexOf){Array.prototype.indexOf=function(searchElement){if(this===void 0||this===null){throw TypeError()}var t=Object(this);var len=t.length>>>0;if(len===0){return-1}var n=0;if(arguments.length>0){n=Number(arguments[1]);if(isNaN(n)){n=0}else if(n!==0&&n!==1/0&&n!==-(1/0)){n=(n>0||-1)*Math.floor(Math.abs(n))}}if(n>=len){return-1}var k=n>=0?n:Math.max(len-Math.abs(n),0);for(;k<len;k++){if(k in t&&t[k]===searchElement){return k}}return-1}}if(!Array.prototype.lastIndexOf){Array.prototype.lastIndexOf=function(searchElement){if(this===void 0||this===null){throw TypeError()}var t=Object(this);var len=t.length>>>0;if(len===0){return-1}var n=len;if(arguments.length>1){n=Number(arguments[1]);if(n!==n){n=0}else if(n!==0&&n!==1/0&&n!==-(1/0)){n=(n>0||-1)*Math.floor(Math.abs(n))}}var k=n>=0?Math.min(n,len-1):len-Math.abs(n);for(;k>=0;k--){if(k in t&&t[k]===searchElement){return k}}return-1}}if(!Array.prototype.every){Array.prototype.every=function(fun){if(this===void 0||this===null){throw TypeError()}var t=Object(this);var len=t.length>>>0;if(typeof fun!=="function"){throw TypeError()}var thisp=arguments[1],i;for(i=0;i<len;i++){if(i in t&&!fun.call(thisp,t[i],i,t)){return false}}return true}}if(!Array.prototype.some){Array.prototype.some=function(fun){if(this===void 0||this===null){throw TypeError()}var t=Object(this);var len=t.length>>>0;if(typeof fun!=="function"){throw TypeError()}var thisp=arguments[1],i;for(i=0;i<len;i++){if(i in t&&fun.call(thisp,t[i],i,t)){return true}}return false}}if(!Array.prototype.forEach){Array.prototype.forEach=function(fun){if(this===void 0||this===null){throw TypeError()}var t=Object(this);var len=t.length>>>0;if(typeof fun!=="function"){throw TypeError()}var thisp=arguments[1],i;for(i=0;i<len;i++){if(i in t){fun.call(thisp,t[i],i,t)}}}}if(!Array.prototype.map){Array.prototype.map=function(fun){if(this===void 0||this===null){throw TypeError()}var t=Object(this);var len=t.length>>>0;if(typeof fun!=="function"){throw TypeError()}var res=[];res.length=len;var thisp=arguments[1],i;for(i=0;i<len;i++){if(i in t){res[i]=fun.call(thisp,t[i],i,t)}}return res}}if(!Array.prototype.filter){Array.prototype.filter=function(fun){if(this===void 0||this===null){throw TypeError()}var t=Object(this);var len=t.length>>>0;if(typeof fun!=="function"){throw TypeError()}var res=[];var thisp=arguments[1],i;for(i=0;i<len;i++){if(i in t){var val=t[i];if(fun.call(thisp,val,i,t)){res.push(val)}}}return res}}if(!Array.prototype.reduce){Array.prototype.reduce=function(fun){if(this===void 0||this===null){throw TypeError()}var t=Object(this);var len=t.length>>>0;if(typeof fun!=="function"){throw TypeError()}if(len===0&&arguments.length===1){throw TypeError()}var k=0;var accumulator;if(arguments.length>=2){accumulator=arguments[1]}else{do{if(k in t){accumulator=t[k++];break}if(++k>=len){throw TypeError()}}while(true)}while(k<len){if(k in t){accumulator=fun.call(undefined,accumulator,t[k],k,t)}k++}return accumulator}}if(!Array.prototype.reduceRight){Array.prototype.reduceRight=function(callbackfn){if(this===void 0||this===null){throw TypeError()}var t=Object(this);var len=t.length>>>0;if(typeof callbackfn!=="function"){throw TypeError()}if(len===0&&arguments.length===1){throw TypeError()}var k=len-1;var accumulator;if(arguments.length>=2){accumulator=arguments[1]}else{do{if(k in this){accumulator=this[k--];break}if(--k<0){throw TypeError()}}while(true)}while(k>=0){if(k in t){accumulator=callbackfn.call(undefined,accumulator,t[k],k,t)}k--}return accumulator}}if(!String.prototype.trim){String.prototype.trim=function(){return String(this).replace(/^\s+/,"").replace(/\s+$/,"")}}if(!Date.now){Date.now=function now(){return Number(new Date)}}if(!Date.prototype.toISOString){Date.prototype.toISOString=function(){function pad2(n){return("00"+n).slice(-2)}function pad3(n){return("000"+n).slice(-3)}return this.getUTCFullYear()+"-"+pad2(this.getUTCMonth()+1)+"-"+pad2(this.getUTCDate())+"T"+pad2(this.getUTCHours())+":"+pad2(this.getUTCMinutes())+":"+pad2(this.getUTCSeconds())+"."+pad3(this.getUTCMilliseconds())+"Z"}}if(!Object.seal){Object.seal=function seal(object){if(Object(object)!==object){throw new TypeError("Object.seal can only be called on Objects.")}return object}}(function(){var setTimeoutFunc=setTimeout;function noop(){}function bind(fn,thisArg){return function(){fn.apply(thisArg,arguments)}}function Promise(fn){if(typeof this!=="object")throw new TypeError("Promises must be constructed via new");if(typeof fn!=="function")throw new TypeError("not a function");this._state=0;this._handled=false;this._value=undefined;this._deferreds=[];doResolve(fn,this)}function handle(self,deferred){while(self._state===3){self=self._value}if(self._state===0){self._deferreds.push(deferred);return}self._handled=true;Promise._immediateFn(function(){var cb=self._state===1?deferred.onFulfilled:deferred.onRejected;if(cb===null){(self._state===1?resolve:reject)(deferred.promise,self._value);return}var ret;try{ret=cb(self._value)}catch(e){reject(deferred.promise,e);return}resolve(deferred.promise,ret)})}function resolve(self,newValue){try{if(newValue===self)throw new TypeError("A promise cannot be resolved with itself.");if(newValue&&(typeof newValue==="object"||typeof newValue==="function")){var then=newValue.then;if(newValue instanceof Promise){self._state=3;self._value=newValue;finale(self);return}else if(typeof then==="function"){doResolve(bind(then,newValue),self);return}}self._state=1;self._value=newValue;finale(self)}catch(e){reject(self,e)}}function reject(self,newValue){self._state=2;self._value=newValue;finale(self)}function finale(self){if(self._state===2&&self._deferreds.length===0){Promise._immediateFn(function(){if(!self._handled){Promise._unhandledRejectionFn(self._value)}})}for(var i=0,len=self._deferreds.length;i<len;i++){handle(self,self._deferreds[i])}self._deferreds=null}function Handler(onFulfilled,onRejected,promise){this.onFulfilled=typeof onFulfilled==="function"?onFulfilled:null;this.onRejected=typeof onRejected==="function"?onRejected:null;this.promise=promise}function doResolve(fn,self){var done=false;try{fn(function(value){if(done)return;done=true;resolve(self,value)},function(reason){if(done)return;done=true;reject(self,reason)})}catch(ex){if(done)return;done=true;reject(self,ex)}}Promise.prototype["catch"]=function(onRejected){return this.then(null,onRejected)};Promise.prototype.then=function(onFulfilled,onRejected){var prom=new this.constructor(noop);handle(this,new Handler(onFulfilled,onRejected,prom));return prom};Promise.all=function(arr){var args=Array.prototype.slice.call(arr);return new Promise(function(resolve,reject){if(args.length===0)return resolve([]);var remaining=args.length;function res(i,val){try{if(val&&(typeof val==="object"||typeof val==="function")){var then=val.then;if(typeof then==="function"){then.call(val,function(val){res(i,val)},reject);return}}args[i]=val;if(--remaining===0){resolve(args)}}catch(ex){reject(ex)}}for(var i=0;i<args.length;i++){res(i,args[i])}})};Promise.resolve=function(value){if(value&&typeof value==="object"&&value.constructor===Promise){return value}return new Promise(function(resolve){resolve(value)})};Promise.reject=function(value){return new Promise(function(resolve,reject){reject(value)})};Promise.race=function(values){return new Promise(function(resolve,reject){for(var i=0,len=values.length;i<len;i++){values[i].then(resolve,reject)}})};Promise._immediateFn=typeof setImmediate==="function"&&function(fn){setImmediate(fn)}||function(fn){setTimeoutFunc(fn,0)};Promise._unhandledRejectionFn=function _unhandledRejectionFn(err){if(typeof console!=="undefined"&&console){console.warn("Possible Unhandled Promise Rejection:",err)}};Promise._setImmediateFn=function _setImmediateFn(fn){Promise._immediateFn=fn};Promise._setUnhandledRejectionFn=function _setUnhandledRejectionFn(fn){Promise._unhandledRejectionFn=fn};if(!window.Promise){window.Promise=Promise}})();